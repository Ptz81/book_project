{"mappings":"6mBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,+YCAzDH,EAAA,S,MCAAI,EAAiBJ,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,SCA/G,I,EAAMC,EAAU,IAAAC,IAAAJ,GCAvBK,EAAiBT,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,SDE/G,I,EAAMI,EAAY,IAAAF,IAAAC,GEFzBE,EAAiBX,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,SFO/G,I,EAAMM,EAAc,IAAAJ,IAAAG,GGP3BE,EAAiBb,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,SHW/G,I,EAAMQ,EAAY,IAAAN,IAAAK,GIXzBE,EAAiBf,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,SJgB/G,IAAMU,EAAU,IAAAR,IAAAO,GKTjBE,EAAeC,SAASC,cAAc,wBCD5C,IAAMC,EAAeF,SAASC,cAAc,kBAErC,SAASE,EAAaC,GACvBA,EAAMrC,OAAS,EACQqC,EDArBC,KACJ,SAAAC,GAKE,I,IALCC,EAAGD,EAAHC,IAAKC,EAAUF,EAAVE,WAAYC,EAAKH,EAALG,MAAOC,EAASJ,EAATI,UAAWC,EAAWL,EAAXK,YAAaC,EAAMN,EAANM,OAAQC,EAASP,EAATO,UAErDC,EAAe,KACfC,EAAmB,KACnBC,EAAiB,KACZlD,EAAI,EAAGA,EAAI+C,EAAU9C,OAAQD,IACV,WAAtB+C,EAAU/C,GAAGmD,KACfH,EAAeD,EAAU/C,GAAGQ,IACG,gBAAtBuC,EAAU/C,GAAGmD,KACtBF,EAAmBF,EAAU/C,GAAGQ,IACD,aAAtBuC,EAAU/C,GAAGmD,OACtBD,EAAiBH,EAAU/C,GAAGQ,KAIlCyB,EAAamB,mBACX,YACA,qEAKEC,OAFIX,GAAc,sCACf,WAEIW,OADPV,GAAS,yBACV,UAGKU,OAHGZ,EAAI,8IAMPY,OAHAV,GAAS,yBACV,+DAOkBU,OALjBT,GAAa,yBACd,yLAQGS,OAJerB,EAAW,gIAQ1BqB,OAJAR,GACA,mDACD,8DAMWQ,OAJVP,GAAU,wBACX,qGAQWO,OALAL,EAAa,mMAQbK,OAHA3B,EAAa,uGAQb2B,OALAJ,EAAiB,uLAQjBI,OAHAzB,EAAe,2GASjByB,OANEH,EAAe,mMAMJG,OAAbvB,EAAa,oI,IC9DnCM,EAAagB,mBACX,YACA,kKAEqBC,OAAX9B,EAAW,yD,kBCrBnB+B,EAAepB,SAASC,cAAc,wBAKtCoB,EAAU,IAAI,EAAAC,EAAAC,SAMpB,IAAIC,EAAexC,KAAKC,MAAMwC,aAAaC,QAAQ,cAAgB,GCPnE,IAAMC,EAAe3B,SAASC,cAAc,wBAI5CE,EAFmBnB,KAAKC,MAAMwC,aAAaC,QAAQ,cAAgB,IAInEC,EAAaC,iBAAiB,SDGvB,SAAyBC,G,IAG1BC,EAFJD,EAAME,iBACN,IAAIC,EAAc,KAClB,GAAiD,YAAf,QAA9BF,EAAAD,EAAMI,OAAOC,QAAQ,iBAAS,IAA9BJ,OAAA,EAAAA,EAAgCK,UAApC,CAGA,IAAMC,EACJP,EAAMI,OAAOC,QAAQ,UAAUG,WAAWC,kBAAkBtE,GAC9DuE,QAAQC,IAAIJ,GACZZ,EAAanB,KAAI,SAAAoC,GACXA,EAAGlC,MAAQ6B,IACbJ,EAAcS,E,IAGlB,IAAMC,EAAQlB,EAAamB,QAAQX,GACnCO,QAAQC,IAAIE,IAEE,IAAVA,IACFlB,EAAaoB,OAAOF,EAAO,GAvB7BtB,EAAayB,UAAY,GAyBvBxB,EAAQyB,aAAaC,OAAOf,IAE9BP,aAAauB,QAAQ,WAAYhE,KAAKiE,UAAUzB,IAChDrB,EAAaqB,EAnBX,C","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0fb7b111ed187568.js","src/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-c7956b5ee2bf81b9.js","src/js/shopping-list/paths.js","node_modules/@parcel/runtime-js/lib/runtime-4b40ee178e83d5d1.js","node_modules/@parcel/runtime-js/lib/runtime-81f071de63c27e63.js","node_modules/@parcel/runtime-js/lib/runtime-a7d737d6db6ca0c1.js","node_modules/@parcel/runtime-js/lib/runtime-13548ecc5972fd51.js","src/js/shopping-list/render-markup.js","src/js/shopping-list/create-markup.js","src/js/shopping-list/delete-card.js","src/js/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.cfd29ce5.js\\\",\\\"86n1j\\\":\\\"books.15c3c113.png\\\",\\\"cw5Fg\\\":\\\"amazon.b8fa90cb.png\\\",\\\"gnGsD\\\":\\\"applebooks.5a9f17e3.png\\\",\\\"iC3bb\\\":\\\"bookstore.91914384.png\\\",\\\"ee16w\\\":\\\"sprite.c16ab493.svg\\\",\\\"5UbS1\\\":\\\"index.622eb7e7.css\\\",\\\"01IoP\\\":\\\"shopping-list.35c23b71.js\\\"}\"));","import './js/toggle-switch';\nimport './js/shopping-list';\nimport './js/active-page';\nimport './js/mobile-menu';\nimport './js/scroll-up';\nimport './js/support-render-markup';\nimport './js/support-slider';\nimport './js/auth/auth-logic';\nimport './js/utils/stuff';\n// import './js/shopping-list/pagination-shopping-list';\n","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"86n1j\");","export const pathToBook = new URL('../../images/shop-icons/books.png', import.meta.url);\n\nexport const pathToAmazon = new URL(\n  '../../images/shop-icons/amazon.png',\n  import.meta.url\n);\n\nexport const pathAppleBooks = new URL(\n  '../../images/shop-icons/applebooks.png',\n  import.meta.url\n);\nexport const pathBookShop = new URL(\n  '../../images/shop-icons/bookstore.png',\n  import.meta.url\n);\n\nexport const pathToDump = new URL('../../images/sprite.svg', import.meta.url);","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"cw5Fg\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"gnGsD\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"iC3bb\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","import {\n  pathToAmazon,\n  pathAppleBooks,\n  pathBookShop,\n  pathToDump,\n} from './paths';\n\nconst shoppingList = document.querySelector('.shopping-cart__list');\n\nexport function renderShoppingListMarkUp(books) {\n  books.map(\n    ({ _id, book_image, title, list_name, description, author, buy_links }) => {\n      // console.log(Object.values(buy_links));\n      let linkToAmazon = null;\n      let linkToAppleBooks = null;\n      let linkToBookShop = null;\n      for (let i = 0; i < buy_links.length; i++) {\n        if (buy_links[i].name === 'Amazon') {\n          linkToAmazon = buy_links[i].url;\n        } else if (buy_links[i].name === 'Apple Books') {\n          linkToAppleBooks = buy_links[i].url;\n        } else if (buy_links[i].name === 'Bookshop') {\n          linkToBookShop = buy_links[i].url;\n        }\n      }\n\n      shoppingList.insertAdjacentHTML(\n        'beforeend',\n        `\n        <li class=\"shopping-cart__item\">\n            <img src=\"${\n              book_image || '/src/images/sprite.svg#icon-ukraine'\n            }\" alt=\"${\n          title || 'There is no book title'\n        }\" id=\"${_id}\" class=\"shopping-cart__book-img\">\n            <div class=\"shopping-cart__main-info\">\n            <h3 class=\"shopping-cart__book-title\">${\n              title || 'There is no book title'\n            }</h3>\n            <p class=\"shopping-cart__book-category\">${\n              list_name || 'There is no book title'\n            }</p>\n            </div>\n            <button class=\"shopping-cart__btn-delete\">\n                <svg class=\"delete-icon\" width=\"100%\" height=\"100%\">\n                  <use href=\"${pathToDump}#icon-dump\"></use>\n                </svg>\n            </button>\n              <p class=\"shopping-cart__book-description\">${\n                description ||\n                'There is no description <br/><br/>Слава Україні!'\n              }</p>\n              <p class=\"shopping-cart__book-author\">${\n                author || 'The author is unknown'\n              }</p>\n            <div class=\"shopping-cart__links\">\n              <a \n                  href=\"${linkToAmazon}\"\n                  class=\"shopping-cart__book-shop amazon-link\"\n                  target=\"_blank\"\n                  referrerpolicy=\"no-referrer\"\n              >\n              <img src=\"${pathToAmazon}\" alt=\"amazon\" class=\"store-icon\">\n              </a>\n              <a \n                  href=\"${linkToAppleBooks}\"\n                  class=\"shopping-cart__book-shop\"\n                  target=\"_blank\"\n                  referrerpolicy=\"no-referrer\"\n              >\n              <img src=\"${pathAppleBooks}\" alt=\"AppleBooks\" class=\"store-icon\">\n              </a>\n              <a \n                  href=\"${linkToBookShop}\"\n                  class=\"shopping-cart__book-shop\"\n                  target=\"_blank\"\n                  referrerpolicy=\"no-referrer\"\n              >\n            \n            <img src=\"${pathBookShop}\" alt=\"BookStore\" class=\"store-icon\">\n            </a>\n            </div>\n            \n            \n        </li>\n        `\n      );\n    }\n  );\n}\n","import { pathToBook } from './paths';\n\nimport { renderShoppingListMarkUp } from './render-markup';\n\n// import { createEmptyCart} from './create-markup';\n\nconst shoppingCart = document.querySelector('.shopping-cart');\n\nexport function isAddedBooks(array) {\n  if (array.length > 0) {\n    renderShoppingListMarkUp(array);\n  } else {\n    createEmptyCart();\n  }\n}\n\nexport function createEmptyCart() {\n  shoppingCart.insertAdjacentHTML(\n    'beforeend',\n    `\n        <div class=\"shopping-cart__warning\"><p class=\"shopping-cart__warning-text\">This page is empty, add some books and proceed to order.</p>\n<img src = \"${pathToBook}\" class=\"shopping-cart__warning-img\"></div>\n        `\n  );\n}","const shoppingList = document.querySelector('.shopping-cart__list');\n\nimport { isAddedBooks } from './create-markup';\nimport UserAccount from '../auth/user-account';\n\nconst userAcc = new UserAccount();\n\nfunction clearMarkup() {\n  shoppingList.innerHTML = '';\n}\n\nlet arrayBookAdd = JSON.parse(localStorage.getItem('book-add')) || [];\n\nexport function handleCloseCard(event) {\n  event.preventDefault();\n  let bookLocalSt = null;\n  if (event.target.closest('button')?.nodeName !== 'BUTTON') {\n    return;\n  }\n  const elToDelete =\n    event.target.closest('button').parentNode.firstElementChild.id;\n  console.log(elToDelete);\n  arrayBookAdd.map(el => {\n    if (el._id === elToDelete) {\n      bookLocalSt = el;\n    }\n  });\n  const index = arrayBookAdd.indexOf(bookLocalSt);\n  console.log(index);\n\n  if (index !== -1) {\n    arrayBookAdd.splice(index, 1);\n    clearMarkup();\n    userAcc.shoppingList.remove(bookLocalSt);\n  }\n  localStorage.setItem('book-add', JSON.stringify(arrayBookAdd));\n  isAddedBooks(arrayBookAdd);\n}\n","import { handleCloseCard } from './shopping-list/delete-card';\n\nimport { isAddedBooks } from './shopping-list/create-markup';\n\nconst shoppingList = document.querySelector('.shopping-cart__list');\n\nlet arrayBookAdd = JSON.parse(localStorage.getItem('book-add')) || [];\n\nisAddedBooks(arrayBookAdd);\n\nshoppingList.addEventListener('click', handleCloseCard);"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$9239191662b5de14$exports","getBundleURL","resolve","$13989bf838228b2c$export$1a27724538b4407f","URL","$3433dd26f8e0358a$exports","$13989bf838228b2c$export$8af9d4482f93f567","$20ab44c7800a8215$exports","$13989bf838228b2c$export$a54e00d3d5156903","$541f6eadd3826021$exports","$13989bf838228b2c$export$3a2a9f73cc66e7ce","$a6aecd8184ec2599$exports","$13989bf838228b2c$export$71076ea9e879f979","$f5e5d0bdcc0c71bd$var$shoppingList","document","querySelector","$e5c422ca93d3c183$var$shoppingCart","$e5c422ca93d3c183$export$8fa8ad996c5bce77","array","map","param","_id","book_image","title","list_name","description","author","buy_links","linkToAmazon","linkToAppleBooks","linkToBookShop","name","insertAdjacentHTML","concat","$1e70f35bbd2398a3$var$shoppingList","$1e70f35bbd2398a3$var$userAcc","$chPSM","default","$1e70f35bbd2398a3$var$arrayBookAdd","localStorage","getItem","$399cd7aec2522034$var$shoppingList","addEventListener","event","ref","preventDefault","bookLocalSt","target","closest","nodeName","elToDelete","parentNode","firstElementChild","console","log","el","index","indexOf","splice","innerHTML","shoppingList","remove","setItem","stringify"],"version":3,"file":"shopping-list.cfd29ce5.js.map"}