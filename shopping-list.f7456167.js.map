{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-602afab6787ed3ed.js","src/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-e211b4572f3c42c8.js","src/js/shopping-list/paths.js","node_modules/@parcel/runtime-js/lib/runtime-700c395045dd822b.js","node_modules/@parcel/runtime-js/lib/runtime-d9862754b9a1ac32.js","node_modules/@parcel/runtime-js/lib/runtime-cc8bdc09a6602340.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/js/shopping-list/render-markup.js","src/js/shopping-list/create-markup.js","src/js/shopping-list/delete-card.js","src/js/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.f7456167.js\\\",\\\"bN38V\\\":\\\"books.15c3c113.png\\\",\\\"h1sXd\\\":\\\"amazon.b8fa90cb.png\\\",\\\"17FkC\\\":\\\"applebooks.5a9f17e3.png\\\",\\\"9cn7l\\\":\\\"bookstore.91914384.png\\\",\\\"lp5u4\\\":\\\"sprite.c16ab493.svg\\\",\\\"5UbS1\\\":\\\"index.622eb7e7.css\\\",\\\"a8cj2\\\":\\\"shopping-list.3b8b9570.js\\\"}\"));","import './js/toggle-switch';\nimport './js/shopping-list';\nimport './js/active-page';\nimport './js/mobile-menu';\nimport './js/scroll-up';\nimport './js/support-render-markup';\nimport './js/support-slider';\nimport './js/auth/auth-logic';\nimport './js/utils/stuff';\n// import './js/shopping-list/pagination-shopping-list';\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bN38V\")).toString();","export const pathToBook = new URL('../../images/shop-icons/books.png', import.meta.url);\n\nexport const pathToAmazon = new URL(\n  '../../images/shop-icons/amazon.png',\n  import.meta.url\n);\n\nexport const pathAppleBooks = new URL(\n  '../../images/shop-icons/applebooks.png',\n  import.meta.url\n);\nexport const pathBookShop = new URL(\n  '../../images/shop-icons/bookstore.png',\n  import.meta.url\n);\n\nexport const pathToDump = new URL('../../images/sprite.svg', import.meta.url);","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"h1sXd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"17FkC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9cn7l\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","import {\n  pathToAmazon,\n  pathAppleBooks,\n  pathBookShop,\n  pathToDump,\n} from './paths';\n\nconst shoppingList = document.querySelector('.shopping-cart__list');\n\nexport function renderShoppingListMarkUp(books) {\n  books.map(\n    ({ _id, book_image, title, list_name, description, author, buy_links }) => {\n      // console.log(Object.values(buy_links));\n      let linkToAmazon = null;\n      let linkToAppleBooks = null;\n      let linkToBookShop = null;\n      for (let i = 0; i < buy_links.length; i++) {\n        if (buy_links[i].name === 'Amazon') {\n          linkToAmazon = buy_links[i].url;\n        } else if (buy_links[i].name === 'Apple Books') {\n          linkToAppleBooks = buy_links[i].url;\n        } else if (buy_links[i].name === 'Bookshop') {\n          linkToBookShop = buy_links[i].url;\n        }\n      }\n\n      shoppingList.insertAdjacentHTML(\n        'beforeend',\n        `\n        <li class=\"shopping-cart__item\">\n            <img src=\"${\n              book_image || '/src/images/sprite.svg#icon-ukraine'\n            }\" alt=\"${\n          title || 'There is no book title'\n        }\" id=\"${_id}\" class=\"shopping-cart__book-img\">\n            <div class=\"shopping-cart__main-info\">\n            <h3 class=\"shopping-cart__book-title\">${\n              title || 'There is no book title'\n            }</h3>\n            <p class=\"shopping-cart__book-category\">${\n              list_name || 'There is no book title'\n            }</p>\n            </div>\n            <button class=\"shopping-cart__btn-delete\">\n                <svg class=\"delete-icon\" width=\"100%\" height=\"100%\">\n                  <use href=\"${pathToDump}#icon-dump\"></use>\n                </svg>\n            </button>\n              <p class=\"shopping-cart__book-description\">${\n                description ||\n                'There is no description <br/><br/>Слава Україні!'\n              }</p>\n              <p class=\"shopping-cart__book-author\">${\n                author || 'The author is unknown'\n              }</p>\n            <div class=\"shopping-cart__links\">\n              <a \n                  href=\"${linkToAmazon}\"\n                  class=\"shopping-cart__book-shop amazon-link\"\n                  target=\"_blank\"\n                  referrerpolicy=\"no-referrer\"\n              >\n              <img src=\"${pathToAmazon}\" alt=\"amazon\" class=\"store-icon\">\n              </a>\n              <a \n                  href=\"${linkToAppleBooks}\"\n                  class=\"shopping-cart__book-shop\"\n                  target=\"_blank\"\n                  referrerpolicy=\"no-referrer\"\n              >\n              <img src=\"${pathAppleBooks}\" alt=\"AppleBooks\" class=\"store-icon\">\n              </a>\n              <a \n                  href=\"${linkToBookShop}\"\n                  class=\"shopping-cart__book-shop\"\n                  target=\"_blank\"\n                  referrerpolicy=\"no-referrer\"\n              >\n            \n            <img src=\"${pathBookShop}\" alt=\"BookStore\" class=\"store-icon\">\n            </a>\n            </div>\n            \n            \n        </li>\n        `\n      );\n    }\n  );\n}\n","import { pathToBook } from './paths';\n\nimport { renderShoppingListMarkUp } from './render-markup';\n\n// import { createEmptyCart} from './create-markup';\n\nconst shoppingCart = document.querySelector('.shopping-cart');\n\nexport function isAddedBooks(array) {\n  if (array.length > 0) {\n    renderShoppingListMarkUp(array);\n  } else {\n    createEmptyCart();\n  }\n}\n\nexport function createEmptyCart() {\n  shoppingCart.insertAdjacentHTML(\n    'beforeend',\n    `\n        <div class=\"shopping-cart__warning\"><p class=\"shopping-cart__warning-text\">This page is empty, add some books and proceed to order.</p>\n<img src = \"${pathToBook}\" class=\"shopping-cart__warning-img\"></div>\n        `\n  );\n}","const shoppingList = document.querySelector('.shopping-cart__list');\n\nimport { isAddedBooks } from './create-markup';\nimport UserAccount from '../auth/user-account';\n\nconst userAcc = new UserAccount();\n\nfunction clearMarkup() {\n  shoppingList.innerHTML = '';\n}\n\nlet arrayBookAdd = JSON.parse(localStorage.getItem('book-add')) || [];\n\nexport function handleCloseCard(event) {\n  event.preventDefault();\n  let bookLocalSt = null;\n  if (event.target.closest('button')?.nodeName !== 'BUTTON') {\n    return;\n  }\n  const elToDelete =\n    event.target.closest('button').parentNode.firstElementChild.id;\n  console.log(elToDelete);\n  arrayBookAdd.map(el => {\n    if (el._id === elToDelete) {\n      bookLocalSt = el;\n    }\n  });\n  const index = arrayBookAdd.indexOf(bookLocalSt);\n  console.log(index);\n\n  if (index !== -1) {\n    arrayBookAdd.splice(index, 1);\n    clearMarkup();\n    userAcc.shoppingList.remove(bookLocalSt);\n  }\n  localStorage.setItem('book-add', JSON.stringify(arrayBookAdd));\n  isAddedBooks(arrayBookAdd);\n}\n","import { handleCloseCard } from './shopping-list/delete-card';\n\nimport { isAddedBooks } from './shopping-list/create-markup';\n\nconst shoppingList = document.querySelector('.shopping-cart__list');\n\nlet arrayBookAdd = JSON.parse(localStorage.getItem('book-add')) || [];\n\nisAddedBooks(arrayBookAdd);\n\nshoppingList.addEventListener('click', handleCloseCard);"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$d90b0f421f4462e6$exports","URL","resolve","import","meta","url","toString","$8e13e57bd9148baf$export$1a27724538b4407f","$2edc020691cd6740$exports","$8e13e57bd9148baf$export$8af9d4482f93f567","$947b03bfaf0e9830$exports","$8e13e57bd9148baf$export$a54e00d3d5156903","$f7c23ddd4d608001$exports","$8e13e57bd9148baf$export$3a2a9f73cc66e7ce","$a4212a039eccdb43$exports","$8e13e57bd9148baf$export$71076ea9e879f979","$4902806939313cab$var$shoppingList","document","querySelector","$f23073358bfdcb23$var$shoppingCart","$f23073358bfdcb23$export$8fa8ad996c5bce77","array","map","_id","book_image","title","list_name","description","author","buy_links","linkToAmazon","linkToAppleBooks","linkToBookShop","name","insertAdjacentHTML","$adfd189654d743c7$var$shoppingList","$adfd189654d743c7$var$userAcc","$1r3KV","default","$adfd189654d743c7$var$arrayBookAdd","localStorage","getItem","$e5c62ffd1c5d842f$var$shoppingList","addEventListener","event","preventDefault","bookLocalSt","target","closest","nodeName","elToDelete","parentNode","firstElementChild","console","log","el","index","indexOf","splice","innerHTML","shoppingList","remove","setItem","stringify"],"version":3,"file":"shopping-list.f7456167.js.map"}